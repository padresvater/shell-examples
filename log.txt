程序开始运行
if_com=1
if_res=0
if_aw=1
if_ren=0
if_con=0
以下为shellcheck检查结果

In image_processing.sh line 52:
    path=($dir)
          ^--^ SC2206: Quote to prevent word splitting/globbing, or split robustly with mapfile or read -a.


In image_processing.sh line 53:
    for file in "$path"/*.png;do
                 ^---^ SC2128: Expanding an array without an index only gives the first element.


In image_processing.sh line 54:
        ( convert "$file" -compress JPEG -quality $quality "$out"/"compressed_${file##*/}.jpg")
                                                                 ^-- SC2140: Word is of the form "A"B"C" (B indicated). Did you mean "ABC" or "A\"B\"C"?


In image_processing.sh line 62:
    path=($dir)
          ^--^ SC2206: Quote to prevent word splitting/globbing, or split robustly with mapfile or read -a.


In image_processing.sh line 63:
    for file in "$path"/*.*;do
                 ^---^ SC2128: Expanding an array without an index only gives the first element.


In image_processing.sh line 65:
            convert "$file" -resize $resize "$out"/"resolution_${file##*/}"
                                                  ^-- SC2140: Word is of the form "A"B"C" (B indicated). Did you mean "ABC" or "A\"B\"C"?


In image_processing.sh line 75:
    path=($dir)
          ^--^ SC2206: Quote to prevent word splitting/globbing, or split robustly with mapfile or read -a.


In image_processing.sh line 76:
    for file in "$path"/*.*;do
                 ^---^ SC2128: Expanding an array without an index only gives the first element.


In image_processing.sh line 88:
    path=($dir)
          ^--^ SC2206: Quote to prevent word splitting/globbing, or split robustly with mapfile or read -a.


In image_processing.sh line 89:
    for file in "$path"/*.*;do
                 ^---^ SC2128: Expanding an array without an index only gives the first element.


In image_processing.sh line 98:
    path=($dir)
          ^--^ SC2206: Quote to prevent word splitting/globbing, or split robustly with mapfile or read -a.


In image_processing.sh line 99:
    for file in "$path"/*.*;do
                 ^---^ SC2128: Expanding an array without an index only gives the first element.


In image_processing.sh line 130:
echo "if_com=$if_com">>$log
^-------------------------^ SC2129: Consider using { cmd1; cmd2; } >> file instead of individual redirects.

For more information:
  https://www.shellcheck.net/wiki/SC2128 -- Expanding an array without an ind...
  https://www.shellcheck.net/wiki/SC2140 -- Word is of the form "A"B"C" (B in...
  https://www.shellcheck.net/wiki/SC2206 -- Quote to prevent word splitting/g...
